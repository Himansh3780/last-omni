<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>OmniTools | Free Government Form & Exam Tools (SSC, UPSC, Railways)</title>
    <meta name="description" content="Free online tools for students and job seekers: Resize photos for SSC/UPSC, compress PDF for forms, and generate secure passwords. No signup required.">
    <meta name="keywords" content="ssc photo resizer, upsc image resize, pdf compressor 200kb, signature resizer, free online tools">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://omnitools.in">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="style.css">

    <script src="theme.js"></script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "OmniTools",
      "url": "https://omnitools.in",
      "description": "Free online developer dashboard with PDF tools, JSON formatter, and AI utilities.",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "All",
      "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
      "author": { "@type": "Organization", "name": "OmniTools" }
    }
    </script>
</head>
<body>

    <div id="overlay" onclick="toggleMenu()"></div>

    <aside id="sidebar">
        <div class="logo">
            <i class="fa-solid fa-layer-group"></i> OmniTools
        </div>
        
        <div class="nav-item active" onclick="filter('all', this)"><i class="fa-solid fa-border-all"></i> All Tools</div>
        <div class="nav-item" onclick="filter('fav', this)"><i class="fa-solid fa-star"></i> Favorites</div>
        
        <div class="nav-item" onclick="filter('image-resize', this)"><i class="fa-solid fa-image"></i> Image Resize</div>
        <div class="nav-item" onclick="filter('signature', this)"><i class="fa-solid fa-file-signature"></i> Signature Resize</div>
        <div class="nav-item" onclick="filter('pdf', this)"><i class="fa-solid fa-file-pdf"></i> PDF Compress</div>
        <div class="nav-item" onclick="filter('password', this)"><i class="fa-solid fa-key"></i> Password Tools</div>
        <div class="nav-item" onclick="filter('converter', this)"><i class="fa-solid fa-file-arrow-up"></i> JPG â†” PDF</div>
        
        <div class="sidebar-ad-box" id="sidebar-ad-container"></div>

        <div class="nav-item" onclick="toggleMenu()" style="margin-top:auto; color:#ef4444; border-top:1px solid var(--border-subtle); border-radius:0; flex-shrink: 0;">
            <i class="fa-solid fa-arrow-left"></i> Close Menu
        </div>
    </aside>

    <main>
        <header>
            <div class="menu-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
            
            <div class="search-box">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" class="search-input" id="search" placeholder="Type / to search..." onkeyup="searchTools()">
            </div>

            <div class="theme-toggle" onclick="toggleTheme()" title="Switch Theme">
                <i id="theme-icon" class="fa-solid fa-moon"></i>
            </div>
        </header>

        <div class="grid-container">

            <div class="hero-container" id="hero-wrapper" style="display:none;"></div>

            <div id="intro-text-box" style="margin: 0 0 40px 0;">
                <h2 style="font-size: 1.5rem; margin-bottom: 8px; color: var(--text-main); letter-spacing: -0.01em;">Dashboard</h2>
                <p style="max-width: 600px; line-height: 1.5; color: var(--text-muted); font-size: 0.95rem;">
                    Access your complete toolkit. Open source, fast, and free.
                </p>
            </div>

            <div id="recents-container"></div>

            <h3 style="margin-bottom:20px; font-size: 0.8rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-muted);">Applications</h3>
            
            <div class="grid" id="tools-grid">
                <div style="grid-column:1/-1; color:var(--text-muted);">Loading Tools...</div>
            </div>

            <div class="seo-block">
                <h3>Why use OmniTools?</h3>
                <p>
                    OmniTools is the premier destination for free online utilities. Whether you need a 
                    <strong>PDF Compressor</strong> to shrink documents for email, a <strong>JSON Formatter</strong> for debugging code, 
                    or a <strong>TikTok Downloader</strong> for saving media, we have you covered.
                </p>
                <p>
                    All processing happens in your browser (Client-Side), ensuring maximum privacy and speed. 
                    No file uploads to servers. No signup required.
                </p>
            </div>

            <footer style="margin-top: 40px; border-top: 1px solid var(--border-subtle); padding: 40px 0; text-align: center;">
                <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 20px;">
                    <i class="fa-solid fa-layer-group" style="color:var(--text-muted)"></i> 
                    <span style="font-weight: 600; color: var(--text-main); font-size: 0.95rem;">OmniTools</span>
                </div>
                
                <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-bottom: 30px;">
                    <a href="privacy.html" style="color: var(--text-muted); text-decoration: none; font-size:0.85rem; transition: 0.2s;">Privacy</a>
                    <a href="terms.html" style="color: var(--text-muted); text-decoration: none; font-size:0.85rem; transition: 0.2s;">Terms</a>
                    <a href="contact.html" style="color: var(--text-muted); text-decoration: none; font-size:0.85rem; transition: 0.2s;">Contact</a>
                </div>

                <div style="color: var(--text-muted); font-size: 0.8rem;">
                    &copy; 2026 OmniTools Inc.
                </div>
            </footer>
        </div>
    </main>
    
    <div id="sticky-footer"></div>

    <script src="ads.js"></script>
    <script src="database.js"></script>

    <script>
        const grid = document.getElementById('tools-grid');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const heroWrapper = document.getElementById('hero-wrapper');
        const introText = document.getElementById('intro-text-box');

        // --- 1. FAVORITES LOGIC ---
        function getFavorites() {
            return JSON.parse(localStorage.getItem('omni_favorites')) || [];
        }

        function toggleFav(e, url) {
            e.preventDefault(); 
            e.stopPropagation(); 
            
            let favs = getFavorites();
            const btn = e.currentTarget;
            
            if (favs.includes(url)) {
                favs = favs.filter(u => u !== url);
                btn.classList.remove('active');
                btn.innerHTML = '<i class="fa-regular fa-star"></i>';
            } else {
                favs.push(url);
                btn.classList.add('active');
                btn.innerHTML = '<i class="fa-solid fa-star"></i>';
            }
            
            localStorage.setItem('omni_favorites', JSON.stringify(favs));
            
            // Refresh if on Favorites tab
            const activeTab = document.querySelector('.nav-item.active');
            if(activeTab && activeTab.innerText.includes('Favorites')) {
                render('fav');
            }
        }

        // --- 2. RECENTS LOGIC ---
        function addToRecents(url) {
            let recents = JSON.parse(localStorage.getItem('omni_recents')) || [];
            recents = recents.filter(u => u !== url); // Remove duplicate
            recents.unshift(url); // Add to front
            if(recents.length > 4) recents.pop(); // Limit to 4
            localStorage.setItem('omni_recents', JSON.stringify(recents));
        }

        function renderRecents() {
            const container = document.getElementById('recents-container');
            const recents = JSON.parse(localStorage.getItem('omni_recents')) || [];
            
            const db = (typeof toolsDB !== 'undefined') ? toolsDB : [];
            if(recents.length === 0 || db.length === 0) {
                container.style.display = 'none';
                return;
            }

            const recentTools = recents.map(url => db.find(t => t.url === url)).filter(Boolean);
            
            if(recentTools.length === 0) return;

            let html = `<h3 style="margin-bottom:15px; font-size:0.8rem; font-weight:600; text-transform:uppercase; letter-spacing:0.05em; color:var(--primary);">Recently Used</h3>
                        <div class="grid" style="margin-bottom:40px;">`;
            
            recentTools.forEach(tool => {
                let iconPrefix = "fa-solid";
                if (['tiktok','instagram','youtube','twitter','facebook','discord','paypal'].some(b => tool.icon.includes(b))) iconPrefix = "fa-brands";
                let brandClass = "brand-dev"; 
                if (tool.cat === 'social') brandClass = "brand-social";
                else if (tool.cat === 'ai') brandClass = "brand-ai";

                html += `
                    <a href="${tool.url}.html" class="card" onclick="addToRecents('${tool.url}')"> 
                        <div class="icon-box ${brandClass}"><i class="${iconPrefix} ${tool.icon}"></i></div>
                        <div class="card-title">${tool.name}</div>
                        <div class="card-desc">${tool.desc}</div>
                    </a>
                `;
            });

            html += `</div>`;
            container.innerHTML = html;
            container.style.display = 'block';
        }

        // --- 3. THEME LOGIC REMOVED ---
        // (It is now handled by theme.js in the head)

        // --- 4. ADS ---
        function loadAds() {
            if (typeof adConfig === 'undefined' || !adConfig.enabled) {
                heroWrapper.style.display = 'none';
                return; 
            }
            if(adConfig.sidebar) {
                const sbContainer = document.getElementById('sidebar-ad-container');
                sbContainer.innerHTML = `<div style="font-size:0.65rem; color:var(--text-muted); margin-bottom:10px; text-transform:uppercase; font-weight:700; padding-left:5px;">Sponsored</div><a href="${adConfig.sidebar.link}"><img src="${adConfig.sidebar.image}" style="width:100%; border-radius:6px; display:block; border:1px solid var(--border-subtle);"></a>`;
            }
            if(adConfig.hero && adConfig.hero.length > 0) {
                let slidesHTML = "";
                let dotsHTML = '<div class="dots" style="position:absolute; bottom:20px; left:40px; display:flex; gap:6px;">';
                adConfig.hero.forEach((ad, index) => {
                    const activeClass = index === 0 ? 'opacity:1; z-index:2;' : 'opacity:0;';
                    slidesHTML += `<div class="slide" style="position:absolute; inset:0; transition:opacity 0.5s ease; background-size:cover; background-position:center; display:flex; align-items:center; background-image: url('${ad.bgImage}'); ${activeClass}"><div class="slide-content"><span style="color:${ad.accent}; font-weight:700; letter-spacing:0.05em; font-size:0.7rem; margin-bottom:8px; text-transform:uppercase; display:block;">${ad.tag}</span><h1 style="font-size:2rem; font-weight:800; line-height:1.1; margin-bottom:12px; color:var(--text-main);">${ad.title}</h1><p style="color:var(--text-main); opacity:0.8; max-width:500px; margin-bottom:20px; font-size:0.95rem;">${ad.desc}</p><a href="${ad.btnLink}" class="hero-btn">${ad.btnText}</a></div></div>`;
                    const dotStyle = index === 0 ? 'background:var(--text-main);' : 'background:var(--text-muted); opacity:0.5;';
                    dotsHTML += `<div class="dot" style="height:6px; width:6px; border-radius:50%; cursor:pointer; transition:0.3s; ${dotStyle}" onclick="setSlide(${index})"></div>`;
                });
                heroWrapper.innerHTML = slidesHTML + dotsHTML + '</div>';
                window.heroSlides = heroWrapper.querySelectorAll('.slide');
                window.heroDots = heroWrapper.querySelectorAll('.dot');
                window.currentSlide = 0;
                heroWrapper.style.display = 'block';
            }
            if(adConfig.stickyFooter && adConfig.stickyFooter.enabled) {
                const footer = document.getElementById('sticky-footer');
                const data = adConfig.stickyFooter;
                footer.style.display = 'flex';
                footer.innerHTML = `<div class="footer-text" style="color:var(--text-main); font-size:0.85rem; font-weight:500;">${data.text}</div><div style="display:flex; align-items:center; gap:12px;"><a href="${data.link}" class="footer-btn">${data.btnText}</a><div class="close-footer" onclick="this.parentElement.parentElement.style.display='none'"><i class="fa-solid fa-xmark"></i></div></div>`;
            }
        }

        // --- 5. RENDER FUNCTION ---
        function render(cat) {
            if(window.innerWidth < 850) {
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }
            if (cat === 'all' || cat === 'fav') {
                if (introText) introText.style.display = 'block';
                if (heroWrapper && heroWrapper.innerHTML.trim() !== "") heroWrapper.style.display = 'block';
                
                // Show Recents ONLY on 'All Tools'
                const recentsDiv = document.getElementById('recents-container');
                if(cat === 'all' && recentsDiv.innerHTML !== "") recentsDiv.style.display = 'block';
                else recentsDiv.style.display = 'none';

            } else {
                if (introText) introText.style.display = 'none';
                if (heroWrapper) heroWrapper.style.display = 'none';
                document.getElementById('recents-container').style.display = 'none';
            }

            const db = (typeof toolsDB !== 'undefined') ? toolsDB : [];
            
            // Empty State
            if(!db || db.length === 0) { 
                grid.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:40px; color:var(--text-muted);">No tools loaded from database.js</div>`;
                return; 
            }

            // Filtering
            let filtered = [];
            const favs = getFavorites();

            if (cat === 'fav') {
                grid.innerHTML = ""; 
                filtered = db.filter(t => favs.includes(t.url));
                if (filtered.length === 0) {
                    grid.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:40px; color:var(--text-muted);">
                        <i class="fa-regular fa-star" style="font-size:3rem; margin-bottom:15px; opacity:0.3;"></i><br>
                        No favorites yet. Click the star on any tool to pin it here.
                    </div>`;
                    return;
                }
            } else if (cat === 'all') {
                filtered = db;
            } else {
                filtered = db.filter(t => t.cat === cat);
                if (filtered.length === 0) {
                    grid.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:40px; color:var(--text-muted);">
                        No tools found in this category yet.
                    </div>`;
                    return;
                }
            }

            grid.innerHTML = ""; // Clear Grid

            let availableAds = [];
            if(typeof adConfig !== 'undefined' && adConfig.enabled && adConfig.native) {
                availableAds = adConfig.native.filter(ad => ad.category === 'all' || ad.category === cat);
            }

            let counter = 0;
            let adCounter = 0;
            
            filtered.forEach(tool => {
                let badge = tool.tag ? `<span class="badge ${tool.tag.toLowerCase()}">${tool.tag}</span>` : "";
                let iconPrefix = "fa-solid";
                
                let brandClass = "brand-dev"; 
                if (tool.cat === 'social') brandClass = "brand-social";
                else if (tool.cat === 'ai') brandClass = "brand-ai";

                // Favorites State
                const isFav = favs.includes(tool.url);
                const starClass = isFav ? "active" : "";
                const starIcon = isFav ? "fa-solid fa-star" : "fa-regular fa-star";

                // ADD onclick="addToRecents" HERE
                grid.innerHTML += `
                    <a href="${tool.url}.html" class="card" onclick="addToRecents('${tool.url}')"> 
                        ${badge}
                        <div class="fav-btn ${starClass}" onclick="toggleFav(event, '${tool.url}')">
                            <i class="${starIcon}"></i>
                        </div>

                        <div class="icon-box ${brandClass}"><i class="${iconPrefix} ${tool.icon}"></i></div>
                        <div class="card-title">${tool.name} <i class="fa-solid fa-circle-check verified-icon"></i></div>
                        <div class="card-desc">${tool.desc}</div>
                    </a>
                `;

                counter++;
                if (counter % 4 === 0 && availableAds.length > 0) {
                    const ad = availableAds[adCounter % availableAds.length];
                    grid.innerHTML += `
                        <a href="${ad.link}" class="card native-ad">
                            <div class="icon-box" style="background:var(--bg-body); color:var(--text-main); border:none;"><i class="fa-solid ${ad.icon}"></i></div>
                            <div class="card-title">${ad.title}</div>
                            <div class="card-desc" style="color:var(--text-muted);">${ad.desc}</div>
                            <div class="ad-cta">${ad.cta} <i class="fa-solid fa-arrow-right"></i></div>
                        </a>
                    `;
                    adCounter++; 
                }
            });
        }

        // --- FILTER WITH MEMORY ---
        function filter(cat, btn) {
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            if(btn) {
                btn.classList.add('active');
            } else {
                const target = document.querySelector(`.nav-item[onclick*="'${cat}'"]`);
                if(target) target.classList.add('active');
            }
            
            localStorage.setItem('omni_last_category', cat);
            render(cat);
        }
        
        function searchTools() {
            const q = document.getElementById('search').value.toLowerCase();
            document.querySelectorAll('.card').forEach(c => {
                if(c.classList.contains('native-ad')) return; 
                const title = c.querySelector('.card-title').innerText.toLowerCase();
                const desc = c.querySelector('.card-desc').innerText.toLowerCase();
                c.style.display = (title.includes(q) || desc.includes(q)) ? 'flex' : 'none';
            });
        }

        function toggleMenu() { sidebar.classList.toggle('open'); overlay.classList.toggle('active'); }

        function setSlide(n) {
            if(!window.heroSlides) return;
            window.heroSlides.forEach(s => { s.style.opacity = '0'; s.style.zIndex = '0'; });
            window.heroDots.forEach(d => { d.style.background = 'var(--text-muted)'; d.style.opacity = '0.5'; });
            window.currentSlide = n;
            window.heroSlides[window.currentSlide].style.opacity = '1';
            window.heroSlides[window.currentSlide].style.zIndex = '2';
            window.heroDots[window.currentSlide].style.background = 'var(--text-main)';
            window.heroDots[window.currentSlide].style.opacity = '1';
        }
        function nextSlide() {
            if(!window.heroSlides) return;
            let next = (window.currentSlide + 1) % window.heroSlides.length;
            setSlide(next);
        }

        // KEYBOARD SHORTCUTS
        document.addEventListener('keydown', function(e) {
            if (e.key === '/' && document.activeElement !== document.getElementById('search')) {
                e.preventDefault();
                document.getElementById('search').focus();
            }
        });

        // --- INIT ---
        loadAds(); 
        
        // Load Database then Init Logic
        setTimeout(() => {
            renderRecents(); // Load recents bar first
            const savedCat = localStorage.getItem('omni_last_category') || 'all';
            filter(savedCat, null); 
        }, 50);
        
        setInterval(nextSlide, 5000); 
    </script>
</body>
</html>
